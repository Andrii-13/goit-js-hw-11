function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=r.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){a[e]=r},r.parcelRequired7c6=n);var i=n("1JxcI"),o=n("3huUq"),s=n("krGWQ"),l=n("7Y9D8"),d=n("fZKcF");s.refs.formEl.addEventListener("submit",(async function(r){if(window.scrollTo(0,0),r.preventDefault(),c=r.target.searchQuery.value,""===c||""===c.trim())return s.refs.galleryEl.innerHTML="",void e(l).Notify.info("Your query is empty. Please try again");try{const r=await(0,i.getFetch)(c,40);if(0===r.data.hits.length)return s.refs.galleryEl.innerHTML="",s.refs.btnLoadMore.classList.add("visually-hidden"),void e(l).Notify.info("Sorry, there are no images matching your search query. Please try again.");const{data:{hits:t}}=r;s.refs.galleryEl.innerHTML=(0,o.createMarkup)(t),u=1,y.refresh(),e(l).Notify.success(`Hooray! We found ${r.data.totalHits} images.`),s.refs.btnLoadMore.classList.remove("visually-hidden"),r.data.totalHits<=40&&s.refs.btnLoadMore.classList.add("visually-hidden"),f=c}catch(r){e(l).Notify.failure("ERROR!!! Something went wrong!!!")}}));let f,c,u,y=new(e(d))(".gallery a",{captionDelay:250});s.refs.btnLoadMore.addEventListener("click",(async function(r){u+=1;try{const r=await(0,i.getFetch)(f,40,u),{data:{hits:t}}=r;s.refs.galleryEl.insertAdjacentHTML("beforeend",(0,o.createMarkup)(t)),y.refresh(),r.config.params.page>=r.data.totalHits/r.config.params.per_page&&(s.refs.btnLoadMore.classList.add("visually-hidden"),e(l).Notify.info("We're sorry, but you've reached the end of search results."))}catch(r){s.refs.btnLoadMore.classList.add("visually-hidden"),e(l).Notify.info("We're sorry, but you've reached the end of search results.")}}));
//# sourceMappingURL=task11-1.29181e3f.js.map
