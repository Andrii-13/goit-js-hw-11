!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=r.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){a[e]=r},r.parcelRequired7c6=n);var s=n("bpxeT"),o=n("2TvXO"),i=n("dOjMq"),l=n("1KhuP"),u=n("4Nugj"),d=n("6JpON"),c=n("5IjG7");u.refs.formEl.addEventListener("submit",(function(e){return v.apply(this,arguments)}));var f,p,y,h=new(e(c))(".gallery a",{captionDelay:250}),g=40;function v(){return(v=e(s)(e(o).mark((function r(t){var a,n,s;return e(o).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.scrollTo(0,0),t.preventDefault(),""!==(p=t.target.searchQuery.value)&&""!==p.trim()){r.next=7;break}return u.refs.galleryEl.innerHTML="",e(d).Notify.info("Your query is empty. Please try again"),r.abrupt("return");case 7:return r.prev=7,r.next=10,(0,i.getFetch)(p,g);case 10:if(0!==(a=r.sent).data.hits.length){r.next=16;break}return u.refs.galleryEl.innerHTML="",u.refs.btnLoadMore.classList.add("visually-hidden"),e(d).Notify.info("Sorry, there are no images matching your search query. Please try again."),r.abrupt("return");case 16:n=a.data.hits,s=n.map((function(e){var r=e.webformatURL,t=e.largeImageURL,a=e.tags,n=e.likes,s=e.views,o=e.comments,i=e.downloads;return(0,l.createMarkup)(r,t,a,n,s,o,i)})).join(""),u.refs.galleryEl.innerHTML=s,y=1,h.refresh(),e(d).Notify.success("Hooray! We found ".concat(a.data.totalHits," images.")),u.refs.btnLoadMore.classList.remove("visually-hidden"),a.data.totalHits<=g&&u.refs.btnLoadMore.classList.add("visually-hidden"),f=p,r.next=30;break;case 27:r.prev=27,r.t0=r.catch(7),e(d).Notify.failure("ERROR!!! Something went wrong!!!");case 30:case"end":return r.stop()}}),r,null,[[7,27]])})))).apply(this,arguments)}function m(){return(m=e(s)(e(o).mark((function r(t){var a,n,s;return e(o).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return y+=1,r.prev=1,r.next=4,(0,i.getFetch)(f,g,y);case 4:a=r.sent,n=a.data.hits,s=n.map((function(e){var r=e.webformatURL,t=e.largeImageURL,a=e.tags,n=e.likes,s=e.views,o=e.comments,i=e.downloads;return(0,l.createMarkup)(r,t,a,n,s,o,i)})).join(""),u.refs.galleryEl.insertAdjacentHTML("beforeend",s),h.refresh(),a.config.params.page>=a.data.totalHits/a.config.params.per_page&&(u.refs.btnLoadMore.classList.add("visually-hidden"),e(d).Notify.info("We're sorry, but you've reached the end of search results.")),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),u.refs.btnLoadMore.classList.add("visually-hidden"),e(d).Notify.info("We're sorry, but you've reached the end of search results.");case 16:case"end":return r.stop()}}),r,null,[[1,12]])})))).apply(this,arguments)}u.refs.btnLoadMore.addEventListener("click",(function(e){return m.apply(this,arguments)}))}();
//# sourceMappingURL=task11-1.2572e594.js.map
